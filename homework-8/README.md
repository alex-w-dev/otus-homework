### Ñ€ĞµÑˆĞµĞ½Ğ¸Ğµ Ğ”Ğ—:

Ğ”Ğ¾Ğ±Ñ€Ğ¾Ğ³Ğ¾ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸ ÑÑƒÑ‚Ğ¾Ğº!

Ğ”Ğ»Ñ Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ ÑÑ‚Ğ¾Ğ³Ğ¾ Ğ”Ğ— Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ» Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½ Ğ¡Ğ°Ğ³Ğ° + Ñ…Ğ¾Ñ€ĞµĞ¾Ğ³Ñ€Ğ°Ñ„Ğ¸Ñ. ĞœĞ¸ĞºÑ€Ğ¾Ñ„ÑĞµÑ€Ğ²Ğ¸ÑÑ‹ Ğ¾ÑĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ñ‹ Ñ‡ĞµÑ€ĞµĞ· Ğ¾Ğ±Ñ‰Ğ¸Ğ¹ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ Ğ¾ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… ÑĞ°Ğ³Ğ¸ Ğ¸ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ñ‹Ñ… ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸ÑÑ… Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑÑÑ‰ĞµĞ³Ğ¾ ÑĞµÑ€Ğ²Ğ¸ÑĞ°. Ğ¡ĞµÑ€Ğ²Ğ¸ÑÑ‹ ÑĞ°Ğ¼Ğ¸ Ñ€ĞµÑˆĞ°ÑÑ‚ Ğ½Ğ° ĞºĞ°ĞºĞ¾Ğ¹ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑÑ‹Ğ²Ğ°Ñ‚ÑŒÑÑ.

ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğµ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ Ğ¸ Ğ¾Ğ±Ñ‰ĞµĞµ Ğ´Ğ»Ñ Ğ²ÑĞµÑ… "Ğ·Ğ°Ğ¸Ğ½Ñ‚ĞµÑ€ĞµÑĞ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ñ…", ÑÑ‚Ğ¾ "order-saga--compensation", ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ¾Ğµ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ñ‚Ğ°ĞºĞ¶Ğµ Ğ²Ñ‹Ğ·Ğ²Ğ°Ñ‚ÑŒ Ğ»ÑĞ±Ğ¾Ğ¹ Ğ¼Ğ¸ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ğ¸Ñ, ĞµÑĞ»Ğ¸ Ğ¿Ğ¾Ğ½Ğ¸Ğ¼Ğ°ĞµÑ‚, Ñ‡Ñ‚Ğ¾ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ order-saga Ğ½Ğµ Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ½Ñ‹ Ğ¸Ğ»Ğ¸ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ¾ÑˆĞ»Ğ¸ Ğ½ĞµĞ¾Ğ±Ñ€Ğ°Ñ‚Ğ¸Ğ¼Ñ‹Ğµ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ Ğ·Ğ° Ğ²Ñ€ĞµĞ¼Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¸ Ğ´Ñ€ÑƒĞ³Ğ¸Ğ¼Ğ¸ ÑĞµÑ€Ğ²Ğ¸ÑĞ°Ğ¼Ğ¸ (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€, Ñ‚Ğ¾Ğ²Ğ°Ñ€ ĞºĞ¾Ğ½Ñ‡Ğ¸Ğ»ÑÑ, Ğ¿Ğ¾ĞºĞ° Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ¾Ñ„Ğ¾Ñ€Ğ¼Ğ»ÑĞ» ĞºĞ¾Ñ€Ğ·Ğ¸Ğ½Ñƒ)

Ğ’Ğ¾ Ğ²ÑĞµÑ… ÑĞ»ÑƒÑ‡Ğ°ÑÑ… ÑĞµÑ€Ğ²Ğ¸ÑÑ‹, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ ÑĞ´ĞµĞ»Ğ°Ğ»Ğ¸ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ Ğ² ÑĞ²Ğ¾Ğ¸Ñ… Ğ‘Ğ” Ğ¿Ñ€Ğ¸ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¸ "order-saga--compensation" Ğ¾Ñ‚ĞºĞ°Ñ‚ÑÑ‚ ÑĞ²Ğ¾Ğ¸ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ Ğ´Ğ»Ñ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾Ğ³Ğ¾ Ğ·Ğ°ĞºĞ°Ğ·Ğ°, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ ÑƒĞºĞ°Ğ·Ğ°Ğ½ Ğ² order-saga Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…. - Ğ²ÑĞµ Ğ¾Ñ‚ĞºĞ°Ñ‚Ñ‹ ÑĞ°Ğ³Ğ¸ Ğ¸Ğ´ĞµĞ¼Ğ¿Ğ¾Ñ‚ĞµĞ½Ñ‚Ñ‹, Ñ‚Ğ¾ ĞµÑÑ‚ÑŒ Ğ½Ğµ ÑƒĞ¹Ğ´ĞµÑ‚ Ğ»Ğ¸ÑˆĞ½ÑÑ Ñ€ĞµĞ·ĞµÑ€Ğ²Ğ°Ñ†Ğ¸Ñ Ğ¸ Ğ±Ğ¸Ğ»Ğ»Ğ¸Ğ½Ğ³ ÑĞµÑ€Ğ²Ğ¸Ñ Ğ½Ğµ ĞºĞ¾Ğ¼Ğ¿ĞµĞ½ÑĞ¸Ñ€ÑƒĞµÑ‚ Ğ´ĞµĞ½ÑŒĞ³Ğ¸ Ğ´Ğ²Ğ°Ğ¶Ğ´Ñ‹ Ğ¸ Ğ±Ğ¾Ğ»ĞµĞµ Ñ€Ğ°Ğ·.

Ğ¡Ğ´ĞµĞ»Ğ°Ğ» 2 Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ñ… Ğ½Ğ°Ğ±Ğ¾Ñ€Ğ° Ñ‚ĞµÑÑ‚Ğ¾Ğ²: Ğ¿Ğ¾Ğ»Ğ¾Ğ¶Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ñ‚ĞµÑÑ‚Ñ‹ Ğ´Ğ»Ñ Ğ·Ğ°ĞºĞ°Ğ·Ğ° Ğ¸ Ñ‚ĞµÑÑ‚Ñ‹ Ñ Ğ¾ÑˆĞ¸Ğ±ĞºĞ¾Ğ¹ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½ĞµĞ³Ğ¾ ÑˆĞ°Ğ³Ğ° ÑĞ°Ğ³Ğ¸ (Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€, Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ¾ÑˆĞ¸Ğ±Ğ¾Ñ‡Ğ½Ğ¾Ğ³Ğ¾ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸ Ğ´Ğ»Ñ ĞºÑƒÑ€ÑŒĞµÑ€Ğ°). Ğ”Ğ»Ñ Ğ´Ñ€ÑƒĞ³Ğ¸Ñ… ÑĞ»ÑƒÑ‡Ğ°ĞµĞ² Ñ‚Ğ¾Ğ¶Ğµ Ğ¼Ğ¾Ğ³ Ğ±Ñ‹ ÑĞ´ĞµĞ»Ğ°Ñ‚ÑŒ, Ğ½Ğ¾ Ğ²ĞµĞ·Ğ´Ğµ ÑÑƒÑ‚ÑŒ Ğ¾Ğ´Ğ½Ğ°: ÑÑ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ ĞºĞ¾Ğ¼Ğ¿ĞµĞ½ÑĞ°Ñ†Ğ¸Ñ ÑĞ°Ğ³Ğ¸ Ğ¸ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ±ÑƒĞ´ĞµÑ‚ Ğ°Ğ½Ğ°Ğ»Ğ¾Ğ³Ğ¸Ñ‡Ğ½Ğ°Ñ Ñ‚Ğ¾Ğ¼Ñƒ, Ñ‡Ñ‚Ğ¾ ĞµÑĞ»Ğ¸ ÑĞ°Ğ³Ğ° ÑƒĞ¿Ğ°Ğ´ĞµÑ‚ Ğ½Ğ° Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½ĞµĞ¼ ÑˆĞ°Ğ³Ğµ - Ñ Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ Ğ·Ğ°ÑĞ¾Ñ€Ñ Ğ±Ğ¾Ğ»ÑŒÑˆĞ¸Ğ¼ ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾Ğ¼ ĞºĞ¾Ğ¿Ğ¸Ğ¿Ğ°ÑÑ‚Ğ¾Ğ².

### ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°:

ĞĞ°Ñ€Ğ¸ÑĞ¾Ğ²Ğ°Ğ» ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ¾Ğ² <a name="my-scrinshot">ğŸ”—</a>:

#### Ğ§Ñ‚Ğ¾ Ğ½ÑƒĞ¶Ğ½Ğ¾ Ğ´Ğ´Ğ»Ñ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°:

- Minikube (Ñ‚Ğ°ĞºĞ¶Ğµ Ğ²ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ ingress addon)
- Helm
- Newman (Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ)

#### ĞĞ°Ñ‡Ğ¸Ğ½Ğ°ĞµĞ¼:

(-1) ĞĞµ Ğ·Ğ°Ğ±ÑƒĞ´ÑŒ Ğ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ minikube: `minikube start`

(0) Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµĞ¼ Ğ¸Ğ· Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¸ homework-8: `cd ./homework-8` ... ĞµÑĞ»Ğ¸ Ğ²Ñ‹ Ğ½Ğµ Ğ² Ğ½ĞµĞ¹

(1) Ğ£ÑÑ‚Ğ°Ğ½Ğ°Ğ²Ğ»Ğ¸Ğ²Ğ°ĞµĞ¼ Ğ½Ğ°Ñˆ Ñ…ĞµĞ»Ğ¼ Ñ‡Ğ°Ñ€Ñ‚ , ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ¸Ğ¼ĞµĞµÑ‚ Ğ² ÑĞµĞ±Ğµ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ğ¸ Ğ¿Ğ¾ Ğ·Ğ°Ğ¿ÑƒÑĞºÑƒ Ğ½Ğ°ÑˆĞµĞ³Ğ¾ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ (Ğ½ĞµĞ¹Ğ¼ÑĞ¿ĞµĞ¹Ñ `homework-8-saga`):

```bash
helm upgrade homework-8-saga --install --create-namespace --namespace=homework-8-saga ./app
```

(1.1) Ğ”Ğ°Ğ¼Ğ°ÑˆĞ½ÑÑ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ° Ğ² Ğ½ĞµĞ¹Ğ¼ÑĞ¿ĞµĞ¹ÑĞµ `homework-8-saga`, Ğ¿Ğ¾ÑÑ‚Ğ¾Ğ¼Ñƒ ÑĞ¼ĞµĞ½Ğ¸Ğ¼ Ğ½ĞµĞ¹Ğ¼ÑĞ¿ĞµĞ¹Ñ, ĞµÑĞ»Ğ¸ Ğ±ÑƒĞ´ĞµÑ‚Ğµ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒÑÑ kubectl, minikube Ğ¸Ğ»Ğ¸ helm:  
`kubectl config set-context --current --namespace=homework-8-saga`

(2) ĞĞµ Ğ·Ğ°Ğ±Ñ‹Ğ²Ğ°ĞµĞ¼ Ğ²ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ Ñ‚ÑƒĞ½ĞµĞ»ÑŒ Ğ² Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ğ¾Ğ¼ Ğ¾ĞºĞ½Ğµ Ñ‚ĞµÑ€Ğ¼Ğ¸Ğ½Ğ°Ğ»Ğ° Ğ¸ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ hosts:

```bash
minikube tunnel
```

(3) Ğ¢ĞµĞ¿ĞµÑ€ÑŒ Newman Ğ¿Ğ¾Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ¿Ñ€Ğ¾Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ĞºĞ¾Ğ»Ğ»ĞµĞºÑ†Ğ¸Ñ Postman, ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ°Ñ ÑÑÑ‹Ğ»Ğ°ĞµÑ‚ÑÑ Ğ½Ğ° Ğ½Ğ°ÑˆĞµ Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ (`--verbose` Ğ´Ğ»Ñ Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ Ğ´ĞµÑ‚Ğ°Ğ»ĞµĞ¹):

```bash
newman run otus-homework-8-saga.postman_collection.json --verbose
```

ĞĞ¸Ğ¶Ğµ Ğ²Ğ¾Ñ‚ Ñ‚Ğ°ĞºĞ¸Ğµ Ğ»Ğ¾Ğ³Ğ¸ Ñƒ Ğ¼ĞµĞ½Ñ Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾ :

```
PS C:\code\otus-homework\homework-8> newman run otus-homework-8-saga.postman_collection.json --verbose
newman

otus-homework-8-saga

â†’ Get products list
  GET http://arch.homework/warehouse/products
  200 OK â˜… 18ms time â˜… 243Bâ†‘ 319Bâ†“ size â˜… 8â†‘ 6â†“ headers â˜… 0 cookies
  â”Œ â†“ application/json â˜… text â˜… json â˜… utf8 â˜… 106B
  â”‚ [{"id":1,"name":"Product","cost":100,"count":999993},{"id":2,"name":"Zero Products","cost":100,"count":0}]
  â””
  prepare   wait   dns-lookup   tcp-handshake   transfer-start   download   process   total
  22ms      6ms    1ms          455Âµs           4ms              5ms        1ms       40ms

  âˆš  Successful Get get public products list

â†’ Register
  POST http://arch.homework/user/register
  201 Created â˜… 70ms time â˜… 393Bâ†‘ 354Bâ†“ size â˜… 9â†‘ 6â†“ headers â˜… 0 cookies
  â”Œ â†‘ raw â˜… 101B
  â”‚ {
  â”‚   "username": "Callie27",
  â”‚   "email": "Nicholaus_Rowe@gmail.com",
  â”‚   "password": "!vNgznNVpJy0H3m1"
  â”‚ }
  â””
  â”Œ â†“ application/json â˜… text â˜… json â˜… utf8 â˜… 136B
  â”‚ {"username":"Callie27","email":"Nicholaus_Rowe@gmail.com","avatarUrl":null,"id":11,"createdAt":"2024-11-30T14:28:05.709Z","role":"USER"}
  â””
  prepare   wait    dns-lookup   tcp-handshake   transfer-start   download   process   total
  1ms       567Âµs   (cache)      (cache)         67ms             1ms        248Âµs     70ms

  âˆš  Successful POST create user

â†’ Login
  POST http://arch.homework/auth/login
  200 OK â˜… 109ms time â˜… 365Bâ†‘ 538Bâ†“ size â˜… 9â†‘ 6â†“ headers â˜… 0 cookies
  â”Œ â†‘ raw â˜… 77B
  â”‚ {
  â”‚     "email": "Nicholaus_Rowe@gmail.com",
  â”‚   "password": "!vNgznNVpJy0H3m1"
  â”‚ }
  â””
  â”Œ â†“ application/json â˜… text â˜… json â˜… utf8 â˜… 324B
  â”‚ {"id":11,"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOjExLCJpYXQiOjE3MzI5NzY4ODUsImV4cCI6MTczMjk3NzE4NX0.TcuR4kkoSbNMBMDO-vQO-buSX9oPTE_DM_8N9RnDtuY","refreshT
  â”‚ oken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOjExLCJpYXQiOjE3MzI5NzY4ODUsImV4cCI6MTczMzA2MzI4NX0.T48G0E5kIP2ab3pDY6rgbCik5TCSZfWq4DYIti4I1g0"}
  â””
  prepare   wait    dns-lookup   tcp-handshake   transfer-start   download   process   total
  957Âµs     193Âµs   (cache)      (cache)         107ms            1ms        97Âµs      109ms

  âˆš  Successful POST login

â†’ Get User initital Billing data
  GET http://arch.homework/billing/user
  200 OK â˜… 9ms time â˜… 401Bâ†‘ 234Bâ†“ size â˜… 8â†‘ 6â†“ headers â˜… 0 cookies
  â”Œ â†“ application/json â˜… text â˜… json â˜… utf8 â˜… 22B
  â”‚ {"userId":11,"bill":0}
  â””
  prepare   wait    dns-lookup   tcp-handshake   transfer-start   download   process   total
  965Âµs     183Âµs   (cache)      (cache)         6ms              1ms        88Âµs      9ms

  âˆš  Successful Get User's initital billing data

â†’ Top Up User's Bill
  POST http://arch.homework/billing/user/top-up-bill
  201 Created â˜… 29ms time â˜… 488Bâ†‘ 242Bâ†“ size â˜… 10â†‘ 6â†“ headers â˜… 0 cookies
  â”Œ â†‘ raw â˜… 22B
  â”‚ {
  â”‚     "bill": 2000
  â”‚ }
  â””
  â”Œ â†“ application/json â˜… text â˜… json â˜… utf8 â˜… 25B
  â”‚ {"userId":11,"bill":2000}
  â””
  prepare   wait    dns-lookup   tcp-handshake   transfer-start   download   process   total
  931Âµs     190Âµs   (cache)      (cache)         27ms             1ms        99Âµs      29ms

  âˆš  Successful top up user's bill

â†’ Make Wrong Time Order
  POST http://arch.homework/order/user/make-order
  201 Created â˜… 26ms time â˜… 559Bâ†‘ 367Bâ†“ size â˜… 10â†‘ 6â†“ headers â˜… 0 cookies
  â”Œ â†‘ raw â˜… 96B
  â”‚ {"cost":100,"data":{"products":[{"productId":1,"count":1,"cost":100}],"courierTime":1731976886}}
  â””
  â”Œ â†“ application/json â˜… text â˜… json â˜… utf8 â˜… 149B
  â”‚ {"userId":11,"cost":100,"data":"{\"products\":[{\"productId\":1,\"count\":1,\"cost\":100}],\"courierTime\":1731976886}","id":16,"payed":0,"closed":0}
  â””
  prepare   wait    dns-lookup   tcp-handshake   transfer-start   download   process   total
  771Âµs     184Âµs   (cache)      (cache)         23ms             1ms        86Âµs      26ms

  âˆš  Successful Create User's chip order

â†’ Get User Billing data After Wrong Time order
  GET http://arch.homework/billing/user
  200 OK â˜… 8ms time â˜… 401Bâ†‘ 237Bâ†“ size â˜… 8â†‘ 6â†“ headers â˜… 0 cookies
  â”Œ â†“ application/json â˜… text â˜… json â˜… utf8 â˜… 25B
  â”‚ {"userId":11,"bill":2000}
  â””
  prepare   wait    dns-lookup   tcp-handshake   transfer-start   download   process   total
  788Âµs     151Âµs   (cache)      (cache)         6ms              1ms        87Âµs      8ms

  âˆš  Wrong order cannot change user's bill

â†’ Get user notifications After Wrong Time order
  GET http://arch.homework/notification/user/notifications
  200 OK â˜… 8ms time â˜… 420Bâ†‘ 365Bâ†“ size â˜… 8â†‘ 6â†“ headers â˜… 0 cookies
  â”Œ â†“ application/json â˜… text â˜… json â˜… utf8 â˜… 152B
  â”‚ [{"id":24,"userId":11,"type":"success","text":"Your bill is compensated"},{"id":23,"userId":11,"type":"success","text":"Successfully payid your order"}]
  â””
  prepare   wait    dns-lookup   tcp-handshake   transfer-start   download   process   total
  906Âµs     154Âµs   (cache)      (cache)         6ms              1ms        115Âµs     8ms

  âˆš  Last User notifactions has messages about bill restored, and successfull pay before it

â†’ Get user payments After Wrong Time order
  GET http://arch.homework/payment/user/payments
  200 OK â˜… 8ms time â˜… 410Bâ†‘ 258Bâ†“ size â˜… 8â†‘ 6â†“ headers â˜… 0 cookies
  â”Œ â†“ application/json â˜… text â˜… json â˜… utf8 â˜… 46B
  â”‚ [{"id":14,"userId":11,"orderId":16,"payed":0}]
  â””
  prepare   wait    dns-lookup   tcp-handshake   transfer-start   download   process   total
  1ms       208Âµs   (cache)      (cache)         6ms              1ms        146Âµs     8ms

  âˆš  Wrong order is not payed as result

â†’ Get user reserved products After Wrong Time order
  GET http://arch.homework/warehouse/user/reserved-products/16
  200 OK â˜… 8ms time â˜… 424Bâ†‘ 212Bâ†“ size â˜… 8â†‘ 6â†“ headers â˜… 0 cookies
  â”Œ â†“ application/json â˜… text â˜… json â˜… utf8 â˜… 2B
  â”‚ []
  â””
  prepare   wait    dns-lookup   tcp-handshake   transfer-start   download   process   total
  809Âµs     242Âµs   (cache)      (cache)         5ms              994Âµs      74Âµs      8ms

  âˆš  Should be empty reserved products

â†’ Get user reserved couriers After Wrong Time order
  GET http://arch.homework/delivery/user/reserved-couriers/16
  200 OK â˜… 9ms time â˜… 423Bâ†‘ 212Bâ†“ size â˜… 8â†‘ 6â†“ headers â˜… 0 cookies
  â”Œ â†“ application/json â˜… text â˜… json â˜… utf8 â˜… 2B
  â”‚ []
  â””
  prepare   wait    dns-lookup   tcp-handshake   transfer-start   download   process   total
  844Âµs     210Âµs   (cache)      (cache)         7ms              966Âµs      97Âµs      9ms

  âˆš  It shoult be empty reserved couriers to order

â†’ Get products list After Wrong Time order
  GET http://arch.homework/warehouse/products
  200 OK â˜… 4ms time â˜… 243Bâ†‘ 319Bâ†“ size â˜… 8â†‘ 6â†“ headers â˜… 0 cookies
  â”Œ â†“ application/json â˜… text â˜… json â˜… utf8 â˜… 106B
  â”‚ [{"id":1,"name":"Product","cost":100,"count":999993},{"id":2,"name":"Zero Products","cost":100,"count":0}]
  â””
  prepare   wait    dns-lookup   tcp-handshake   transfer-start   download   process   total
  821Âµs     152Âµs   (cache)      (cache)         2ms              804Âµs      121Âµs     4ms

  âˆš  After wrong order products count shoul be the same

â†’ Get products list
  GET http://arch.homework/warehouse/products
  200 OK â˜… 4ms time â˜… 243Bâ†‘ 319Bâ†“ size â˜… 8â†‘ 6â†“ headers â˜… 0 cookies
  â”Œ â†“ application/json â˜… text â˜… json â˜… utf8 â˜… 106B
  â”‚ [{"id":1,"name":"Product","cost":100,"count":999993},{"id":2,"name":"Zero Products","cost":100,"count":0}]
  â””
  prepare   wait    dns-lookup   tcp-handshake   transfer-start   download   process   total
  750Âµs     278Âµs   (cache)      (cache)         2ms              852Âµs      90Âµs      4ms

  âˆš  Successful Get get public products list (+reset globals)

â†’ Make Common Order
  POST http://arch.homework/order/user/make-order
  201 Created â˜… 26ms time â˜… 559Bâ†‘ 367Bâ†“ size â˜… 10â†‘ 6â†“ headers â˜… 0 cookies
  â”Œ â†‘ raw â˜… 96B
  â”‚ {"cost":100,"data":{"products":[{"productId":1,"count":1,"cost":100}],"courierTime":1733976887}}
  â””
  â”Œ â†“ application/json â˜… text â˜… json â˜… utf8 â˜… 149B
  â”‚ {"userId":11,"cost":100,"data":"{\"products\":[{\"productId\":1,\"count\":1,\"cost\":100}],\"courierTime\":1733976887}","id":17,"payed":0,"closed":0}
  â””
  prepare   wait    dns-lookup   tcp-handshake   transfer-start   download   process   total
  738Âµs     248Âµs   (cache)      (cache)         23ms             1ms        242Âµs     26ms

  âˆš  Successful Create User's chip order

â†’ Get User Billing data After Chip order
  GET http://arch.homework/billing/user
  200 OK â˜… 8ms time â˜… 401Bâ†‘ 237Bâ†“ size â˜… 8â†‘ 6â†“ headers â˜… 0 cookies
  â”Œ â†“ application/json â˜… text â˜… json â˜… utf8 â˜… 25B
  â”‚ {"userId":11,"bill":1900}
  â””
  prepare   wait    dns-lookup   tcp-handshake   transfer-start   download   process   total
  710Âµs     168Âµs   (cache)      (cache)         6ms              885Âµs      124Âµs     7ms

  âˆš  Successful Get User's billing data after chip order

â†’ Get user notifications
  GET http://arch.homework/notification/user/notifications
  200 OK â˜… 9ms time â˜… 420Bâ†‘ 443Bâ†“ size â˜… 8â†‘ 6â†“ headers â˜… 0 cookies
  â”Œ â†“ application/json â˜… text â˜… json â˜… utf8 â˜… 230B
  â”‚ [{"id":25,"userId":11,"type":"success","text":"Successfully payid your order"},{"id":24,"userId":11,"type":"success","text":"Your bill is compensated"},{"id":23,"userId":11,"t
  â”‚ ype":"success","text":"Successfully payid your order"}]
  â””
  prepare   wait    dns-lookup   tcp-handshake   transfer-start   download   process   total
  836Âµs     164Âµs   (cache)      (cache)         6ms              929Âµs      87Âµs      8ms

  âˆš  Last User notifaction ihas success message after chip order

â†’ Get user payments
  GET http://arch.homework/payment/user/payments
  200 OK â˜… 8ms time â˜… 410Bâ†‘ 303Bâ†“ size â˜… 8â†‘ 6â†“ headers â˜… 0 cookies
  â”Œ â†“ application/json â˜… text â˜… json â˜… utf8 â˜… 91B
  â”‚ [{"id":15,"userId":11,"orderId":17,"payed":1},{"id":14,"userId":11,"orderId":16,"payed":0}]
  â””
  prepare   wait    dns-lookup   tcp-handshake   transfer-start   download   process   total
  813Âµs     170Âµs   (cache)      (cache)         6ms              905Âµs      61Âµs      8ms

  âˆš  Chip order has payed payment

â†’ Get user reserved products
  GET http://arch.homework/warehouse/user/reserved-products/17
  200 OK â˜… 8ms time â˜… 424Bâ†‘ 283Bâ†“ size â˜… 8â†‘ 6â†“ headers â˜… 0 cookies
  â”Œ â†“ application/json â˜… text â˜… json â˜… utf8 â˜… 71B
  â”‚ [{"id":15,"userId":11,"orderId":17,"productId":1,"count":1,"cost":100}]
  â””
  prepare   wait    dns-lookup   tcp-handshake   transfer-start   download   process   total
  799Âµs     209Âµs   (cache)      (cache)         6ms              1ms        179Âµs     8ms

  âˆš  User has reserved products

â†’ Get user reserved couriers
  GET http://arch.homework/delivery/user/reserved-couriers/17
  200 OK â˜… 8ms time â˜… 423Bâ†‘ 279Bâ†“ size â˜… 8â†‘ 6â†“ headers â˜… 0 cookies
  â”Œ â†“ application/json â˜… text â˜… json â˜… utf8 â˜… 67B
  â”‚ [{"id":7,"userId":11,"orderId":17,"courierId":1,"time":1733976887}]
  â””
  prepare   wait    dns-lookup   tcp-handshake   transfer-start   download   process   total
  773Âµs     177Âµs   (cache)      (cache)         6ms              821Âµs      59Âµs      7ms

  âˆš  User should have reserved courier

â†’ Get products list after normal order
  GET http://arch.homework/warehouse/products
  200 OK â˜… 4ms time â˜… 243Bâ†‘ 319Bâ†“ size â˜… 8â†‘ 6â†“ headers â˜… 0 cookies
  â”Œ â†“ application/json â˜… text â˜… json â˜… utf8 â˜… 106B
  â”‚ [{"id":1,"name":"Product","cost":100,"count":999992},{"id":2,"name":"Zero Products","cost":100,"count":0}]
  â””
  prepare   wait    dns-lookup   tcp-handshake   transfer-start   download   process   total
  1ms       139Âµs   (cache)      (cache)         2ms              773Âµs      64Âµs      4ms

  âˆš  Successful decrement product's count

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         â”‚           executed â”‚            failed â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              iterations â”‚                  1 â”‚                 0 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                requests â”‚                 20 â”‚                 0 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚            test-scripts â”‚                 20 â”‚                 0 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚      prerequest-scripts â”‚                 13 â”‚                 0 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              assertions â”‚                 20 â”‚                 0 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ total run duration: 2.5s                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ total data received: 1.94kB (approx)                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ average response time: 19ms [min: 4ms, max: 109ms, s.d.: 25ms]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ average DNS lookup time: 1ms [min: 1ms, max: 1ms, s.d.: 0Âµs]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ average first byte time: 16ms [min: 2ms, max: 107ms, s.d.: 25ms] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
